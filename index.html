<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Nivora - 60fps Mobile Optimized</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-cream: #F5F2EB; 
            --bg-cream-alt: #EAE6DD; 
            --text-dark: #1A1A1A;
            --text-muted: #848079;
            --text-faint: #C8C3BA;
            --font-main: 'Inter', sans-serif;
        }

        html, body { overscroll-behavior-y: none; }
        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }

        body {
            background-color: var(--bg-cream);
            color: var(--text-dark);
            font-family: var(--font-main);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* --- Custom Cursor --- */
        .cursor {
            width: 12px; height: 12px; background-color: var(--text-dark);
            border-radius: 50%; position: fixed; top: 0; left: 0;
            pointer-events: none; z-index: 9999; transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background-color 0.2s;
            display: flex; align-items: center; justify-content: center;
            font-size: 10px; font-weight: 700; color: var(--bg-cream); text-transform: uppercase;
            will-change: transform;
        }

        /* --- Navbar --- */
        .navbar {
            position: fixed; top: 0; width: 100%; padding: 2rem 3rem;
            display: flex; justify-content: space-between; align-items: center;
            z-index: 1000;
        }
        .logo { font-weight: 900; letter-spacing: 2px; font-size: 1.2rem; }
        .datetime { font-size: 0.85rem; font-weight: 600; color: var(--text-muted); }

        /* --- 1. Storytelling Hero --- */
        .hero-spacer { height: 250dvh; width: 100%; }
        .hero {
            position: fixed; top: 0; left: 0; width: 100%; height: 100dvh;
            display: flex; align-items: center; justify-content: center;
            background-color: var(--bg-cream-alt); z-index: 1; overflow: hidden;
            perspective: 1000px;
        }
        .hero-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&w=2000&q=80');
            background-size: cover; background-position: center;
            opacity: 0.15; mix-blend-mode: multiply; transform: scale(1.1);
            will-change: transform, opacity; 
        }
        .hero-content {
            position: relative; z-index: 2; text-align: center;
            display: flex; flex-direction: column; align-items: center; gap: 1rem; padding: 0 1.5rem; width: 100%;
        }
        .text-mask { overflow: hidden; }
        .hero-subtitle { font-size: 0.8rem; letter-spacing: 2px; font-weight: 700; text-transform: uppercase; color: var(--text-muted); will-change: transform, opacity; }
        .hero-title { 
            font-size: clamp(3.5rem, 14vw, 14rem); font-weight: 900; 
            line-height: 0.85; letter-spacing: -0.05em; 
            color: var(--text-dark); margin: 1rem 0; transform-origin: center center;
            will-change: transform, opacity; 
        }

        .content-wrapper { position: relative; z-index: 10; background-color: var(--bg-cream); }

        /* --- 2. About Section --- */
        .about-section {
            min-height: 100dvh; padding: 15vw 5vw;
            display: flex; align-items: center; justify-content: center;
        }
        .about-text h2 { 
            font-size: clamp(1.6rem, 4vw, 3.5rem); font-weight: 500; 
            line-height: 1.4; color: var(--text-faint); max-width: 1200px; will-change: color;
        }

        /* --- 3. Horizontal Gallery --- */
        .horizontal-wrapper { overflow: hidden; background: var(--bg-cream); position: relative; }
        .horizontal-container { 
            display: flex; padding: 5vw; gap: 3vw; align-items: center; height: 100dvh; width: max-content; will-change: transform; 
        }
        .section-title-fixed { position: absolute; top: 12%; left: 5%; z-index: 10; }
        .section-title-fixed h3 { font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 0.5rem; font-weight: 700; }
        .section-title-fixed h2 { font-size: clamp(2rem, 5vw, 3rem); font-weight: 800; letter-spacing: -1px; }
        .product-card { width: 35vw; height: 60dvh; background: #ffffff; border-radius: 12px; flex-shrink: 0; overflow: hidden; position: relative; box-shadow: 0 10px 40px rgba(0,0,0,0.05); }
        .product-card img { width: 100%; height: 80%; object-fit: cover; transition: transform 0.5s; filter: grayscale(20%); }
        .product-card:hover img { transform: scale(1.05); filter: grayscale(0%); }
        .product-info { padding: 1.5rem; height: 20%; display: flex; flex-direction: column; justify-content: center; background: var(--bg-cream-alt); border-top: 1px solid rgba(0,0,0,0.05); }
        .product-info h4 { font-size: 1.2rem; margin-bottom: 0.3rem; font-weight: 700; }
        .product-info p { font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase; font-weight: 600; }

        /* --- 4. Projects Pinned Menu --- */
        .projects-pin-section {
            background-color: var(--bg-cream); height: 100dvh;
            display: flex; align-items: center; justify-content: center;
            position: relative; overflow: hidden; border-top: 1px solid rgba(0,0,0,0.05);
        }
        .projects-layout { display: flex; width: 100%; max-width: 1400px; justify-content: space-between; align-items: center; padding: 0 5vw; gap: 4vw; height: 100%; }
        .projects-list-container {
            height: 60dvh; width: 50%; position: relative; overflow: hidden;
            mask-image: linear-gradient(to bottom, transparent, black 15%, black 85%, transparent);
            -webkit-mask-image: linear-gradient(to bottom, transparent, black 15%, black 85%, transparent);
        }
        .projects-list { display: flex; flex-direction: column; gap: 1.5rem; position: absolute; top: 0; width: 100%; will-change: transform; }
        .project-item {
            font-size: clamp(2.5rem, 6vw, 6rem); font-weight: 700; letter-spacing: -0.02em;
            color: rgba(26, 26, 26, 0.15); transition: color 0.3s ease, transform 0.3s ease;
            transform-origin: left center; will-change: color, transform;
        }
        .project-item.active { color: rgba(26, 26, 26, 1); transform: scale(1.05); }
        .projects-image-container { width: 50%; height: 70dvh; background: var(--bg-cream-alt); border-radius: 12px; overflow: hidden; position: relative; }
        .projects-image-container img { width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; opacity: 0; transition: opacity 0.3s ease; will-change: opacity; }
        .projects-image-container img.active { opacity: 1; }
        .view-btn { position: absolute; bottom: 2rem; right: 2rem; background: var(--text-dark); color: var(--bg-cream); padding: 0.8rem 1.5rem; font-weight: 700; border-radius: 50px; font-size: 0.8rem; z-index: 5; }

        /* --- Footer (ULTIMATE MOBILE FIX) --- */
        .footer {
            position: relative;
            z-index: 20; 
            background: var(--bg-cream-alt); 
            color: var(--text-dark);
            /* Standard padding for desktop */
            padding: 8vh 5vw 2vh 5vw; 
            display: flex;
            flex-direction: column;
            gap: 4vh;
            min-height: 100dvh; 
            overflow: hidden; /* Prevent text from causing horizontal scroll */
        }
        
        .footer-header {
            font-size: clamp(1.5rem, 4vw, 2.5rem); 
            font-weight: 500;
        }

        .footer-image-container {
            width: 100%;
            /* Flex-grow allows the image to take up remaining space naturally */
            flex-grow: 1; 
            border-radius: 12px;
            overflow: hidden;
            background: #e0dcd2;
        }
        
        .footer-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .footer-text-wrapper {
            display: flex;
            justify-content: center;
            align-items: flex-end; /* Pushes text to the very bottom */
            width: 100%;
        }

        .footer-giant-text { 
            /* Clamp ensures it gets huge, but never exceeds 90% of screen width */
            font-size: clamp(4rem, 18vw, 25rem); 
            font-weight: 900; 
            /* Normal line-height prevents cutting off the bottom of the letters */
            line-height: 1; 
            letter-spacing: -0.05em; 
            text-align: center; 
            margin: 0;
            padding: 0;
        }

        /* ==========================================================================
           MOBILE / TABLET EXACT OVERRIDES
           ========================================================================== */
        @media (max-width: 768px) {
            * { cursor: auto !important; }
            .cursor { display: none !important; }
            .navbar { padding: 1.5rem; }
            .datetime { display: none; } 
            .hero-spacer { height: 250dvh; } 
            .horizontal-container { padding-top: 22dvh; gap: 5vw; align-items: flex-start; }
            .product-card { width: 85vw; height: 50dvh; } 
            .projects-pin-section { padding: 12dvh 0 5dvh 0; }
            .projects-layout { flex-direction: column-reverse; justify-content: center; gap: 4dvh; }
            .projects-list-container { width: 100%; height: 35dvh; text-align: center; }
            .project-item { transform-origin: center center; } 
            .projects-image-container { width: 100%; height: 40dvh; }
            .view-btn { bottom: 1rem; right: 1rem; padding: 0.6rem 1.2rem; }

            /* --- Footer Mobile Overrides --- */
            .footer {
                /* Remove min-height on mobile so it fits the screen exactly */
                min-height: calc(100dvh - env(safe-area-inset-bottom));
                /* Adjust padding to account for the iOS home bar */
                padding: 10vh 5vw calc(2vh + env(safe-area-inset-bottom)) 5vw;
                gap: 2vh;
            }
            .footer-header {
                text-align: center;
            }
            .footer-image-container {
                /* Set a specific max-height so it leaves room for the text */
                max-height: 40vh; 
            }
        }
    </style>
</head>
<body>

    <div class="cursor" id="custom-cursor"></div>

    <nav class="navbar">
        <div class="logo">NIVORA</div>
        <div class="datetime" id="datetime">Loading...</div>
    </nav>

    <div class="hero-spacer"></div>
    
    <header class="hero" id="hero">
        <div class="hero-bg" id="hero-bg"></div>
        <div class="hero-content">
            <div class="text-mask"><p class="hero-subtitle load-reveal">MADE IN FRAMER</p></div>
            <h1 class="hero-title" id="hero-title">DESIGN<br>FOR<br>EVERYONE</h1>
            <div class="text-mask"><p class="hero-subtitle load-reveal">BEAUTIFULLY CRAFTED EXPERIENCES</p></div>
        </div>
    </header>

    <div class="content-wrapper">
        
        <section class="about-section" id="about">
            <div class="about-text">
                <h2 id="split-text">We are a design studio focused on clarity, craft, and real-world execution. Our work spans brand systems, digital experiences, and physical products â€” all shaped through thoughtful design decisions and precise 3D.</h2>
            </div>
        </section>

        <section class="horizontal-wrapper" id="horizontal-wrapper">
            <div class="section-title-fixed">
                <h3>Gallery</h3>
                <h2>PHYSICAL PRODUCTS</h2>
            </div>
            <div class="horizontal-container" id="horizontal-container">
                <div class="product-card interact-view">
                    <img src="https://images.unsplash.com/photo-1618366712010-f4ae9c647dcb?auto=format&fit=crop&w=800&q=80">
                    <div class="product-info"><h4>RADIO</h4><p>Audio Device</p></div>
                </div>
                <div class="product-card interact-view">
                    <img src="https://images.unsplash.com/photo-1603732551658-5fabbafa84eb?auto=format&fit=crop&w=800&q=80">
                    <div class="product-info"><h4>KNOBS</h4><p>Hardware</p></div>
                </div>
                <div class="product-card interact-view">
                    <img src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&w=800&q=80">
                    <div class="product-info"><h4>CAMERA</h4><p>Imaging Device</p></div>
                </div>
                <div class="product-card interact-view">
                    <img src="https://images.unsplash.com/photo-1546868871-7041f2a55e12?auto=format&fit=crop&w=800&q=80">
                    <div class="product-info"><h4>WRISTWATCH</h4><p>Hardware</p></div>
                </div>
            </div>
        </section>

        <section class="projects-pin-section" id="projects-section">
            <div class="projects-layout">
                <div class="projects-list-container" id="list-container">
                    <div class="projects-list" id="projects-list">
                        <div class="project-item active">Grido</div>
                        <div class="project-item">Stickify</div>
                        <div class="project-item">Agentify</div>
                        <div class="project-item">Brandora</div>
                        <div class="project-item">Codify</div>
                        <div class="project-item">StudyFlow</div>
                    </div>
                </div>
                <div class="projects-image-container interact-view">
                    <img src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=800&q=80" class="active" id="img-0">
                    <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80" id="img-1">
                    <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80" id="img-2">
                    <img src="https://images.unsplash.com/photo-1555421689-491a97ff2040?auto=format&fit=crop&w=800&q=80" id="img-3">
                    <img src="https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?auto=format&fit=crop&w=800&q=80" id="img-4">
                    <img src="https://images.unsplash.com/photo-1522542550221-31fd19575a2d?auto=format&fit=crop&w=800&q=80" id="img-5">
                    <div class="view-btn">View Project</div>
                </div>
            </div>
        </section>

        <footer class="footer">
            <div class="footer-header">Let's work together. <br>hello@nivora.com</div>
            
            <div class="footer-image-container interact-view">
                <img src="https://images.unsplash.com/photo-1600607686527-6fb886090705?auto=format&fit=crop&w=1200&q=80" alt="Footer Image">
            </div>

            <div class="footer-text-wrapper">
                <h1 class="footer-giant-text">NIVORA</h1>
            </div>
        </footer>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/split-type"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        ScrollTrigger.normalizeScroll(true);
        ScrollTrigger.config({ ignoreMobileResize: true });

        const isMobile = window.innerWidth <= 768;

        const cursor = document.getElementById('custom-cursor');
        document.addEventListener('mousemove', (e) => {
            gsap.to(cursor, { x: e.clientX, y: e.clientY, duration: 0.1, ease: "power2.out" });
        });

        document.querySelectorAll('.interact-view').forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursor.innerText = 'VIEW';
                gsap.to(cursor, { width: 60, height: 60, backgroundColor: "#1A1A1A", color: "#F5F2EB", duration: 0.2 });
            });
            el.addEventListener('mouseleave', () => {
                cursor.innerText = '';
                gsap.to(cursor, { width: 12, height: 12, backgroundColor: "#1A1A1A", color: "transparent", duration: 0.2 });
            });
        });

        const heroTitleSplit = new SplitType('#hero-title', { types: 'lines' });
        
        gsap.set(heroTitleSplit.lines, { y: '100%', opacity: 0 });
        gsap.set('.load-reveal', { y: '100%' });

        let loadTl = gsap.timeline({ delay: 0.2 });
        loadTl.to(heroTitleSplit.lines, { y: '0%', opacity: 1, duration: 1.2, stagger: 0.15, ease: "power4.out" });
        loadTl.to('.load-reveal', { y: '0%', duration: 1, stagger: 0.1, ease: "power3.out" }, "-=0.8");

        let scrollHeroTl = gsap.timeline({
            scrollTrigger: { trigger: ".hero-spacer", start: "top top", end: "bottom top", scrub: 1 }
        });

        scrollHeroTl.to("#hero-bg", { scale: isMobile ? 1.6 : 1.4, opacity: 0, ease: "none" }, 0);
        scrollHeroTl.to("#hero-title", { scale: isMobile ? 5 : 4, opacity: 0, ease: "power2.in" }, 0);
        scrollHeroTl.to(".load-reveal", { y: (i) => i === 0 ? -100 : 100, opacity: 0, ease: "power1.inOut" }, 0);

        const text = new SplitType('#split-text', { types: 'words' });
        gsap.to(text.words, { color: "#1A1A1A", stagger: 0.1, scrollTrigger: { trigger: "#about", start: "top 80%", end: "center center", scrub: 1 }});

        const horizontalSection = document.getElementById("horizontal-wrapper");
        const horizontalContainer = document.getElementById("horizontal-container");
        
        gsap.to(horizontalContainer, {
            x: () => -(horizontalContainer.scrollWidth - window.innerWidth),
            ease: "none",
            scrollTrigger: { trigger: horizontalSection, pin: true, anticipatePin: 1, scrub: 1, end: () => "+=" + (horizontalContainer.scrollWidth / (isMobile ? 1.5 : 2)), invalidateOnRefresh: true }
        });

        const initProjectsMenu = () => {
            const projectsSection = document.getElementById('projects-section');
            const projectsList = document.getElementById('projects-list');
            const listContainer = document.getElementById('list-container');
            const items = document.querySelectorAll('.project-item');
            const images = document.querySelectorAll('.projects-image-container img');
            
            const containerHeight = listContainer.offsetHeight;
            const itemTotalHeight = items[0].offsetHeight + parseInt(window.getComputedStyle(projectsList).gap);
            const startY = (containerHeight / 2) - (itemTotalHeight / 2);
            const endY = startY - (itemTotalHeight * (items.length - 1));

            gsap.set(projectsList, { y: startY });

            let pinTl = gsap.timeline({
                scrollTrigger: {
                    trigger: projectsSection, start: "top top", end: isMobile ? "+=3000" : "+=2000", pin: true, anticipatePin: 1, scrub: 1, invalidateOnRefresh: true,
                    onUpdate: (self) => {
                        const progress = self.progress;
                        const activeIndex = Math.min(Math.floor(progress * items.length), items.length - 1);
                        items.forEach((item, index) => { if(index === activeIndex) item.classList.add('active'); else item.classList.remove('active'); });
                        images.forEach((img, index) => { if(index === activeIndex) img.classList.add('active'); else img.classList.remove('active'); });
                    }
                }
            });

            pinTl.to(projectsList, { y: endY, ease: "none" });
        };

        window.addEventListener('load', initProjectsMenu);

        setInterval(() => {
            const timeEl = document.getElementById('datetime');
            if(timeEl) timeEl.textContent = new Date().toLocaleTimeString('en-US', { weekday: 'long', hour: '2-digit', minute: '2-digit', second: '2-digit' });
        }, 1000);

    </script>
</body>
</html>